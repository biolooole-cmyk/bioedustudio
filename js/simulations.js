const DATA = [
    {
        title: 'Ферментативний конструктор',
        description: 'Інтерактивна симуляція для дослідження роботи ферментів та їх ролі в біохімічних процесах. Моделює механізми ферментативного каталізу, вплив різних факторів (температура, pH, концентрація субстрату) на активність ферментів та принципи регуляції ензимів. Дозволяє учням експериментувати з параметрами та спостерігати зміни швидкості біохімічних реакцій у реальному часі. Формує розуміння основ метаболізму та регуляції біологічних процесів на молекулярному рівні.',
        url: 'https://claude.ai/public/artifacts/549c2231-1158-4d98-80a8-6b008dbab48c',
        cover: 'images/Ферментативний конструктор.jpeg'
    },
    {
        title: 'Епідемія в місті',
        description: 'Симуляція поширення інфекційних захворювань у популяції, яка демонструє динаміку епідеміологічних процесів. Моделює вплив різних факторів: швидкості передачі інфекції, рівня імунітету населення, ефективності карантинних заходів та вакцинації. Дозволяє досліджувати як математичні моделі можуть прогнозувати розвиток епідемій та оцінювати ефективність різних стратегій запобігання поширенню хвороб. Розвиває системне мислення та розуміння взаємозв\'язків між біологічними, соціальними та математичними аспектами епідеміології.',
        url: 'https://websim.com/p/lf0mseqavivina_ji8fs',
        cover: 'images/Епідемія в місті.jpeg'
    },
    {
        title: 'Генетичний міксер',
        description: 'Віртуальна лабораторія для вивчення законів спадковості та генетики. Симулює механізми розподілу генів при схрещуванні, наслідування ознак за Менделем та складніші патерни успадкування. Дозволяє проводити віртуальні генетичні експерименти, аналізувати результати схрещувань та прогнозувати ймовірність появи різних фенотипів у потомстві. Формує розуміння фундаментальних принципів генетики та розвиває аналітичні навички у роботі з генетичними даними.',
        url: 'https://biolooole-cmyk.github.io/virtugenlab/',
        cover: 'images/Генетичний міксер.jpeg'
    },
    {
        title: 'Симулятор Мурашника',
        description: 'Модель поведінки мурашиної колонії, яка демонструє складні колективні явища, що виникають з простих правил взаємодії окремих індивідів. Симулює фуражування, комунікацію через феромони, організацію роботи та адаптацію колонії до змін умов. Дозволяє спостерігати як емерджентні властивості виникають на рівні системи в результаті координованої діяльності багатьох організмів. Розвиває розуміння екології, етології та принципів саморганізації в біологічних системах.',
        url: 'https://websim.com/p/f7jf8470zty23q0i7n3d',
        cover: 'images/Симулятор Мурашника.jpeg'
    },
    {
        title: 'Тренажер серця',
        description: 'Інтерактивна симуляція серцево-судинної системи та серцевого циклу. Моделює роботу серця, кровообіг, вплив різних факторів на частоту серцевих скорочень та артеріальний тиск. Дозволяє досліджувати фізіологічні механізми регуляції серцевої діяльності, ефекти фізичного навантаження та патологічні зміни в роботі серця. Формує розуміння фізіології кровообігу та важливості здорового способу життя для підтримки серцево-судинного здоров\'я.',
        url: 'https://claude.ai/public/artifacts/1c90a43a-2010-425d-8b4f-42bb893d69e7',
        cover: 'images/Тренер Серця.jpeg'
    },
    {
        title: 'Симулятор ока людини',
        description: 'Під час роботи з симуляцією учні досліджують будову ока людини та спостерігають, як формується зображення на сітківці. Зміна параметрів дозволяє побачити, як відстань до об’єкта та особливості зору впливають на те, що бачить людина. Симуляція сприяє кращому розумінню роботи зорової системи.',
        url: 'https://biolooole-cmyk.github.io/eyes/',
        cover: 'images/Око.jpeg'
    },
    {
        title: 'Nutrisim',
        description: 'Цифрова платформа для аналізу та планування харчування, яка дозволяє відстежувати раціон, оцінювати його збалансованість та вплив на організм. Моделює метаболічні процеси, обмін речовин та вплив різних компонентів харчування на здоров\'я. Дозволяє учням працювати з даними про поживну цінність продуктів, аналізувати баланс макро- та мікронутрієнтів та планувати оптимальний раціон. Розвиває розуміння зв\'язків між харчуванням та здоров\'ям, формує навички здорового способу життя та критичного мислення при виборі продуктів.',
        url: 'https://biolooole-cmyk.github.io/nutritionsimulator/',
        cover: 'images/Нутрісім.jpeg'
    },
    {
        title: 'Лабораторія фотосинтезу',
        description: 'Віртуальна лабораторія для дослідження процесу фотосинтезу на різних рівнях: від молекулярних механізмів до екосистемної продуктивності. Моделює вплив інтенсивності світла, концентрації вуглекислого газу, температури та інших факторів на швидкість фотосинтезу. Дозволяє проводити віртуальні експерименти, аналізувати оптимізацію умов для максимальної ефективності фотосинтетичних процесів та розуміти роль рослин у глобальних біогеохімічних циклах. Формує системне розуміння одного з найважливіших біологічних процесів на Землі.',
        url: 'https://biolooole-cmyk.github.io/photosynthesislab/',
        cover: 'images/Лабораторія Фотосинтезу.jpeg'
    },
     {
        title: 'Гормональний баланс людини',
        description: 'Навчальний інструмент для дослідження роботи ендокринної системи через віртуальну лабораторію. Користувачі змінюють рівні гормонів окремих залоз, аналізують наслідки для організму та виконують практичні клінічні завдання.',
        url: 'https://biolooole-cmyk.github.io/gormonsimuliator/',
        cover: 'images/Гормони.jpeg'
    },
      {
        title: 'Полювання Амеби',
        description: 'Симуляція наочно демонструє механізм живлення одноклітинного організму шляхом фагоцитозу. У процесі моделювання показано рух амеби, утворення псевдоподій, захоплення та поглинання поживних частинок. Симуляція сприяє кращому розумінню особливостей будови й життєдіяльності амеби та може використовуватися як навчальний інструмент на уроках біології.',
        url: 'https://claude.ai/public/artifacts/58265d05-032e-4e10-9270-b78f6b517cd5',
        cover: 'images/Полювання Амеби.jpeg'
    },
    {
        title: 'Архітектор квітки',
        description: 'Інтерактивна симуляція для вивчення морфології та структури квіток різних рослин. Моделює будову квіткових органів, їх взаємне розташування та функціональне призначення. Дозволяє досліджувати різноманіття квіткової архітектури, адаптації до різних типів запилення та еволюційні особливості квіткових рослин. Розвиває навички морфологічного аналізу, розуміння взаємозв\'язків між структурою та функцією в біології та формує естетичне сприйняття природної різноманітності.',
        url: 'https://biolooole-cmyk.github.io/flowersimulation/',
        cover: 'images/Архітектор Квітки.jpeg'
    },
    {
        title: 'Життя у краплі води (Websim)',
        description: 'Симуляція мікроекосистеми у краплі води, яка демонструє складні екологічні взаємодії між мікроорганізмами. Моделює популяційну динаміку різних видів простейших, їхні харчові зв\'язки, конкуренцію за ресурси та адаптації до умов середовища. Дозволяє спостерігати як стабільність мікроекосистеми залежить від балансу між різними видами та як зміни одного компонента впливають на всю систему. Формує розуміння екологічних принципів на мікроскопічному рівні та демонструє універсальність екологічних закономірностей у різних масштабах.',
        url: 'https://websim.com/p/o2_8w84xtx5twd18dvpw',
        cover: 'images/Життя у краплі води. Вебсим.jpeg'
    },
    {
        title: 'Життя у краплі води',
        description: 'Детальна симуляція мікробного світу у краплі води, яка розкриває різноманітність форм життя та їхні взаємодії на мікроскопічному рівні. Моделює поведінку різних мікроорганізмів, їхні життєві цикли, механізми руху, харчування та розмноження. Дозволяє досліджувати морфологічні особливості найпростіших, їхні екологічні ніші та роль у біогеохімічних циклах. Розвиває навички спостереження та аналізу мікробіологічних процесів, формує розуміння важливості мікроорганізмів у природних екосистемах.',
        url: 'https://biolooole-cmyk.github.io/lifeinadrop/',
        cover: 'images/Життя у краплі води. Курсор.jpeg'
    },
    {
        title: 'Станція переливання крові',
        description: 'Інтерактивна симуляція роботи станції переливання крові, яка демонструє складність та важливість сумісності груп крові при медичних процедурах. Моделює систему груп крові AB0 та резус-фактор, механізми визначення сумісності донор-реципієнт та процеси тестування крові. Дозволяє учням практикувати визначення можливості переливання крові між різними групами, розуміти біологічні основи імунологічних реакцій та формувати свідомість щодо важливості донорства крові. Розвиває розуміння практичного застосування генетичних знань у медицині.',
        url: 'https://biolooole-cmyk.github.io/bloodsimulator/',
        cover: 'images/Станція переливання.jpeg'
    },
    {
        title: 'Транспорт газів',
        description: 'Симуляція процесів газообміну в організмі людини, яка демонструє механізми транспорту кисню та вуглекислого газу на різних рівнях: від альвеол легень до тканин органів. Моделює дихальну систему, структуру легеневої тканини, газообмін в капілярах та транспорт газів кров\'ю завдяки гемоглобіну. Дозволяє досліджувати вплив різних факторів на ефективність газообміну, розуміти взаємозв\'язки між дихальною та серцево-судинною системами та аналізувати патологічні зміни при захворюваннях. Формує цілісне розуміння фізіології дихання.',
        url: 'https://claude.ai/public/artifacts/7a4e5ded-f0c0-4ca1-ba73-1f7bb83210cd',
        cover: 'images/Транспорт газів.jpeg'
    },
    {
        title: 'Енергетичний баланс',
        description: 'Симуляція метаболічних процесів та енергетичного обміну в організмі, яка демонструє як організм отримує, перетворює та витрачає енергію. Моделює процеси аеробного та анаеробного дихання, синтез АТФ, роль різних макронутрієнтів у енергопродукції та взаємозв\'язки між харчуванням, фізичною активністю та енергетичним балансом. Дозволяє досліджувати вплив різних типів навантаження на енергетичний обмін, розуміти метаболічні шляхи та формувати уявлення про біоенергетику як основу життєдіяльності організмів.',
        url: 'https://biolooole-cmyk.github.io/energysimulator/',
        cover: 'images/Енергетичний баланс.jpeg'
    },
    {
        title: 'Полювання Амеби (Websim)',
        description: 'Симуляція поведінки амеби під час харчування, яка демонструє механізми фагоцитозу та рухової активності найпростіших. Моделює процеси утворення псевдоподій, рух амеби до здобичі, захоплення та перетравлення їжі, а також реакції на різні подразники середовища. Дозволяє спостерігати як простий організм без нервової системи демонструє складну поведінку через фізіологічні механізми. Розвиває розуміння еволюції рухової активності та харчування в живих організмах, демонструє основи клітинної біології та фізіології найпростіших.',
        url: 'https://websim.com/p/mw_1gf9e11znhkh6n3ws',
        cover: 'images/Полювання Амеби. Вебсим.jpeg'
    },
    {
        title: 'Плантагочи',
        description: 'Інтерактивна симуляція вирощування рослини, яка моделює вплив різних факторів на ріст та розвиток рослин. Демонструє як світло, вода, мінеральні речовини, температура та інші екологічні фактори впливають на фізіологічні процеси рослини. Дозволяє учням експериментувати з умовами вирощування, спостерігати реакції рослини на зміни середовища та розуміти принципи оптимального росту. Формує практичні навички догляду за рослинами, розвиває розуміння фізіології рослин та екологічних взаємозв\'язків у природі.',
        url: 'https://biolooole-cmyk.github.io/plantagotchi/',
        cover: 'images/Плантагочи.jpeg'
    },
    {
        title: 'Ланцюги живлення',
        description: 'Симуляція трофічних зв\'язків у екосистемі, яка демонструє структуру та динаміку харчових ланцюгів і мереж. Моделює передачу енергії та речовин між різними рівнями екосистеми: від продуцентів через консументів різних порядків до редуцентів. Дозволяє досліджувати як зміни на одному трофічному рівні впливають на інші, аналізувати ефективність передачі енергії та розуміти принципи екологічної стабільності. Формує системне розуміння екосистемних процесів, розвиває екологічне мислення та демонструє важливість збереження біорізноманіття.',
        url: 'https://biolooole-cmyk.github.io/foodecology/',
        cover: 'images/Ланцюги живлення.jpeg'
    },
    {
        title: 'Анатомія тварин',
        description: 'Інтерактивна симуляція для вивчення внутрішньої будови тварин та порівняльного аналізу анатомічних особливостей різних груп. Моделює структуру та розташування внутрішніх органів, їх функціональні взаємозв\'язки та адаптації до різних способів життя. Дозволяє досліджувати еволюційні зміни в будові органів, розуміти зв\'язки між анатомією та фізіологією, аналізувати пристосування до різних екологічних ніш. Розвиває навички анатомічного аналізу, формує розуміння принципів порівняльної анатомії та демонструє універсальність та різноманітність будови тварин.',
        url: 'https://biolooole-cmyk.github.io/anatomyanimal/',
        cover: 'images/Анатомія тварин.jpeg'
    },
    {
        title: 'Життєві цикли рослин',
        description: 'Симуляція повного життєвого циклу рослин, яка демонструє перехід від насіння через проростання, вегетативний ріст, цвітіння, запліднення до формування нового насіння. Моделює морфогенетичні зміни на різних етапах розвитку, вплив сезонних циклів та екологічних факторів на життєві процеси рослин. Дозволяє досліджувати особливості життєвих циклів різних груп рослин, розуміти механізми розмноження та поширення, аналізувати адаптації до різних умов середовища. Формує цілісне розуміння онтогенезу рослин та їх еволюційних стратегій.',
        url: 'https://biolooole-cmyk.github.io/plantcikle/',
        cover: 'images/Життєві цикли рослин.jpeg'
    }
];

function getYouTubeThumbnail(url) {
    const patterns = [
        /(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,
        /youtube\.com\/.*[?&]v=([^&\n?#]+)/
    ];
    
    for (const pattern of patterns) {
        const match = url.match(pattern);
        if (match && match[1]) {
            return `https://img.youtube.com/vi/${match[1]}/hqdefault.jpg`;
        }
    }
    return null;
}

function getCoverImage(item) {
    if (item.cover) {
        return item.cover;
    }
    
    const youtubeThumb = getYouTubeThumbnail(item.url);
    if (youtubeThumb) {
        return youtubeThumb;
    }
    
    return null;
}

function createCard(item) {
    const card = document.createElement('div');
    card.className = 'card';
    card.setAttribute('data-type', 'simulation');
    
    const link = document.createElement('a');
    link.className = 'card-link';
    link.href = item.url;
    link.target = '_blank';
    link.rel = 'noopener noreferrer';
    
    const imageDiv = document.createElement('div');
    imageDiv.className = 'card-image';
    
    const coverImage = getCoverImage(item);
    if (coverImage) {
        const img = document.createElement('img');
        img.src = coverImage;
        img.alt = item.title;
        img.loading = 'lazy';
        img.onerror = function() {
            this.style.display = 'none';
            imageDiv.classList.add('placeholder');
        };
        imageDiv.appendChild(img);
    } else {
        imageDiv.classList.add('placeholder');
    }
    
    link.appendChild(imageDiv);
    
    const contentDiv = document.createElement('div');
    contentDiv.className = 'card-content';
    
    const titleElement = document.createElement('h3');
    titleElement.className = 'card-title';
    titleElement.textContent = item.title;
    contentDiv.appendChild(titleElement);
    
    if (item.description) {
        const descElement = document.createElement('p');
        descElement.className = 'card-description';
        descElement.textContent = item.description;
        contentDiv.appendChild(descElement);
    }
    
    link.appendChild(contentDiv);
    card.appendChild(link);
    
    return card;
}

function renderCards() {
    const container = document.getElementById('cards-container');
    if (!container) return;
    
    container.innerHTML = '';
    
    if (DATA.length === 0) {
        container.innerHTML = '<div class="loading">Немає матеріалів</div>';
        return;
    }
    
    DATA.forEach((item, index) => {
        const card = createCard(item);
        if (card) {
            setTimeout(() => {
                card.classList.add('visible');
            }, index * 50);
            container.appendChild(card);
        }
    });
}

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', renderCards);
} else {
    renderCards();
}
